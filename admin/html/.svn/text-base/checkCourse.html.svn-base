<div id="nav">
    <div class="breadNav">
        <!--<el-breadcrumb separator="/">-->
            <!--<el-breadcrumb-item :to="{ path: '/' }">首页</el-breadcrumb-item>-->
            <!--<el-breadcrumb-item>课程配置</el-breadcrumb-item>-->
            <!--<el-breadcrumb-item>开课审批</el-breadcrumb-item>-->
        <!--</el-breadcrumb>-->
    </div>
    <div class="info_change">
        <div class="info_change">
            <el-dialog title="" :visible.sync="dialogFormVisible1" size="tiny">
                <el-form :model="form1" style="margin-top: 1em;margin-right: 1em;" :rules="formrule1" ref="form1">
                    <el-form-item label="拒绝理由" :label-width="formLabelWidth" prop="refuseCourse">
                        <el-input type="textarea" v-model="form1.refuseCourse" auto-complete="off" :rows="4"></el-input>
                    </el-form-item>
                </el-form>
                <div slot="footer" class="dialog-footer">
                    <el-button @click="dialogFormVisible1 = false">取 消</el-button>
                    <el-button type="primary" @click="refuse('form1')">确 定</el-button>
                </div>
            </el-dialog>
            <el-dialog title="" :visible.sync="dialogFormVisible2" size="tiny">
                <el-form :model="form2" style="margin-top: 1em;margin-right: 1em;" :rules="formrule2" ref="form2">
                    <el-form-item label="课序号" :label-width="formLabelWidth" prop="slCode">
                        <el-input v-model="form2.slCode" auto-complete="off"></el-input>
                    </el-form-item>

                    <el-form-item label="课程编号" :label-width="formLabelWidth" prop="courseCode">
                        <el-input v-model="form2.courseCode" auto-complete="off"></el-input>
                    </el-form-item>
                </el-form>
                <div slot="footer" class="dialog-footer">
                    <el-button @click="dialogFormVisible2 = false">取 消</el-button>
                    <el-button type="primary" @click="agree('form2')">确 定</el-button>
                </div>
            </el-dialog>
        </div>
        <div class="search_area">

            <el-select v-model="select" placeholder="请选择学期">
                <el-option v-for="item in cities" :key="item.value" :label="item.label" :value="item.value">
                    <span style="float: left">{{ item.label }}</span>
                </el-option>
            </el-select>


            <el-button type="primary" icon="search" class="boot-auto" @click="loadData(1,8)">搜索</el-button>
        </div>

        <el-tabs v-model="activeName" @tab-click="handleClick">
            <el-tab-pane label="待审批" name="0">

                <div class="table_box">

                    <el-table :data="tableData" border style="width: 100%">

                        <el-table-column align="center" prop="id" label="序号" width="80">
                            <template scope="scope">
                                <span>{{scope.row.id}}</span>
                            </template>
                        </el-table-column>
                        <el-table-column align="center" prop="applyCode" label="申请单号" width="250">
                            <template scope="scope">
                                <span>{{scope.row.applyCode}}</span>
                            </template>
                        </el-table-column>


                        <el-table-column align="center" prop="slName" label="课程" width="250">
                            <template scope="scope">
                                <span>{{scope.row.slName}}</span>
                            </template>
                        </el-table-column>

                        <el-table-column align="center" prop="teacher" label="教师" width="250">
                            <template scope="scope">
                                <span>{{scope.row.teacher}}</span>
                            </template>
                        </el-table-column>
                        <el-table-column align="center" prop="applyCourse" label="开课理由" width="150" show-overflow-tooltip  >
                            <template scope="scope">
                                <span>{{scope.row.applyCourse}}</span>
                            </template>
                        </el-table-column>
                        <el-table-column align="center" prop="createDate" label="提交时间" width="250">
                            <template scope="scope">
                                <span>{{scope.row.createDate}}</span>
                            </template>
                        </el-table-column>
                        <el-table-column align="center" prop="applyState" label="状态" width="200" >
                            <template scope="scope">
                                <span >{{scope.row.applyState}}</span>
                            </template>
                        </el-table-column>
                        <el-table-column align="center" label="操作" width="200">
                            <template scope="scope">

                                <el-button type="text" icon="edit" @click="toggle_agree(scope.$index,scope.row)">
                                    同意
                                </el-button>

                                <el-button type="text" icon="edit" @click="toggle_refuse(scope.$index,scope.row)">
                                    拒绝
                                </el-button>

                            </template>
                        </el-table-column>
                    </el-table>
                </div>

                <div align="center">
                    <div class="block">

                        <el-pagination @size-change="handleSizeChange" @current-change="handleCurrentChange"
                                       :current-page="currentPage" :page-size="pagesize"
                                       layout="total,prev, pager, next, jumper"
                                       :total="total">
                        </el-pagination>
                    </div>
                </div>

            </el-tab-pane>
            <el-tab-pane label="已拒绝" name="1">

                <div class="table_box">

                    <el-table :data="tableData" border style="width: 100%">
                        <el-table-column align="center" prop="id" label="序号" width="80">
                            <template scope="scope">
                                <span>{{scope.row.id}}</span>
                            </template>
                        </el-table-column>
                        <el-table-column align="center" prop="applyCode" label="申请单号" width="350">
                            <template scope="scope">
                                <span>{{scope.row.applyCode}}</span>
                            </template>
                        </el-table-column>

                        <el-table-column align="center" prop="slName" label="课程" width="250">
                            <template scope="scope">
                                <span>{{scope.row.slName}}</span>
                            </template>
                        </el-table-column>

                        <el-table-column align="center" prop="teacher" label="教师" width="250">
                            <template scope="scope">
                                <span>{{scope.row.teacher}}</span>
                            </template>
                        </el-table-column>
                        <el-table-column align="center" prop="applyCourse" label="开课理由" width="150" show-overflow-tooltip >
                            <template scope="scope">
                                <span >{{scope.row.applyCourse}}</span>
                            </template>
                        </el-table-column>
                        <el-table-column align="center" prop="createDate" label="提交时间" width="250">
                            <template scope="scope">
                                <span>{{scope.row.createDate}}</span>
                            </template>
                        </el-table-column>
                        <el-table-column align="center" prop="applyState" label="状态" width="150">
                            <template scope="scope">
                                <span>{{scope.row.applyState}}</span>
                            </template>
                        </el-table-column>
                        <el-table-column align="center" label="操作" width="200">

                            <template scope="scope">
                                <el-tooltip class="item" effect="dark" placement="top">
                                    <div slot="content">{{scope.row.refuseCourse}}</div>
                                <el-button type="text" icon="edit" >
                                    审批意见
                                </el-button>
                                </el-tooltip>
                            </template>

                        </el-table-column>
                    </el-table>
                </div>

                <div align="center">
                    <div class="block">

                        <el-pagination @size-change="handleSizeChange" @current-change="handleCurrentChange"
                                       :current-page="currentPage" :page-size="pagesize"
                                       layout="total, prev, pager, next, jumper"
                                       :total="total">
                        </el-pagination>
                    </div>
                </div>
            </el-tab-pane>
        </el-tabs>
    </div>
</div>
<script src="../js/checkCourse.js"></script>
